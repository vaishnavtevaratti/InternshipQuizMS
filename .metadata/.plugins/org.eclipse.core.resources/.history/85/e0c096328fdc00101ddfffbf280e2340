package com.app.dao;


import java.sql.Connection;
public class QuizDao  implements AutoCloseable{
	
	private static Connection connection = null;

	public UserDao() throws SQLException {
		connection = Dbutil.getConnection();
	}
	
 public int insert(Quiz quiz) throws SQLException {
     String sql = "insert into quizzes(title, creator_id)values(?,?)";
     try(PreparedStatement ps = connection.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS)){
    	 ps.setString(1, quiz.title);
    	 ps.setInt(2, quiz.cratorId);
    	 ps.executeUpdate();
    	  ResultSet rs = ps.getGeneratedKeys();
    	  if(rs.next()) {
    		  return rs.getInt(1);
    		  
    	  }
    	  return 0;
    	  }
 }

@Override
public void close() throws Exception {
	// TODO Auto-generated method stub
	if (connection != null) {
		connection.close();
		connection = null;
	}
}
}
