package com.app.dao;

import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

import com.app.model.Quiz;
import com.app.util.Dbutil;

import java.sql.Connection;

private static Connection connection = null;

public UserDao() throws SQLException {
	connection = Dbutil.getConnection();
}


public class QuizDao {
 public int insert(Quiz quiz) throws SQLException {
     String sql = "insert into quizzes(title, creator_id)values(?,?)";
     try(PreparedStatement ps = connection.prepareStatement(sql,Statement.RETURN_GENERATED_KEYS)){
    	 ps.setString(1, quiz.title);
    	 ps.setInt(2, quiz.cratorId);
    	 ps.executeUpdate();
    	  ResultSet rs = ps.getGeneratedKeys();
    	  if(rs.next()) {
    		  return rs.getInt(1);
    		  
    	  }
    	  return 0;
    	  }
 }
}
